#:kivy 2.0.0
# register_view.kv

<AccountCreationScreen>:
    name: 'account_creation_screen'
    id: account_creation_screen
    
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        BoxLayout:
            orientation: 'vertical'
            padding: [dp(20), dp(20)]
            spacing: dp(20)

            BoxLayout:
                size_hint_y: 0.9
                canvas:
                    Color:
                        rgb: 1, 1, 1
                    Ellipse:
                        pos: (self.center_x - dp(100), self.top - dp(250))
                        size: dp(200), dp(200)
                        source: 'assets/images/la_logo.webp'
                        angle_start: 0
                        angle_end: 360
            Widget:
                size_hint_y: 0.1

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.7
                padding: [dp(10), dp(10)]
                spacing: dp(20)

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_x: 0.8
                    pos_hint: {'center_x': 0.5}
                    size_hint_y: None
                    height: dp(50)  
                    spacing: dp(10)

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [dp(23)]  

                    TextInput:
                        id: new_username_input
                        hint_text: 'Username *'
                        multiline: False
                        font_size: sp(19)
                        size_hint_y: None
                        background_normal: ''
                        background_active: ''
                        background_color: (0, 0, 0, 0)
                        padding: [dp(20), dp(12)]
                        height: dp(45)  
                        cursor_color: 0.87, 0.42, 0.16, 1
                        selection_color: 0.87, 0.42, 0.16, 0.5

                BoxLayout:
                    orientation: 'vertical'
                    size_hint_x: 0.8
                    pos_hint: {'center_x': 0.5}
                    size_hint_y: None
                    height: dp(50)  # Задаем фиксированную высоту
                    spacing: dp(10)

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [dp(23)]  

                    TextInput:
                        id: new_password_input
                        hint_text: 'Password *'
                        password: True
                        multiline: False
                        font_size: sp(19)
                        size_hint_y: None
                        background_normal: ''
                        background_active: ''
                        background_color: (0, 0, 0, 0)
                        padding: [dp(20), dp(12)]
                        height: dp(45)  
                        cursor_color: 0.87, 0.42, 0.16, 1
                        selection_color: 0.87, 0.42, 0.16, 0.5
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_x: 0.8
                    pos_hint: {'center_x': 0.5}
                    size_hint_y: None
                    height: dp(50)  
                    spacing: dp(10)

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [dp(23)]  
                    TextInput:
                        id: confirm_password_input
                        hint_text: 'Confirm Password *'
                        password: True
                        multiline: False
                        font_size: sp(19)
                        size_hint_y: None
                        background_normal: ''
                        background_active: ''
                        background_color: (0, 0, 0, 0)
                        padding: [dp(20), dp(12)]
                        height: dp(45)  
                        cursor_color: 0.87, 0.42, 0.16, 1
                        selection_color: 0.87, 0.42, 0.16, 0.5


            Widget:
                size_hint_y: 0.15

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 0.5  
                spacing: dp(20)
                Label:
                    id: error_label
                    text: ""
                    color: 1, 1, 1, 1
                    font_size: sp(15)
                    size_hint_y: None
                    height: dp(30)
                    pos_hint: {'center_x': 0.5}


                Button:
                    text: 'Register'
                    size_hint_y: None
                    height: dp(50)
                    font_size: sp(20)
                    pos_hint: {'center_x': 0.5}
                    size_hint_x: 0.77
                    background_normal: ''
                    background_color: 0, 0, 0, 0  
                    color: 0.8, 0.4, 0.1, 1
                    on_release: root.register()

                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [dp(23)]  

                Button:
                    text: 'Back'
                    size_hint_x: 0.77
                    size_hint_y: None
                    height: dp(50)  
                    font_size: sp(20)
                    background_normal: ''
                    background_color: 0, 0, 0, 0  
                    color: 1, 1, 1, 1  
                    pos_hint: {'center_x': 0.5}
                    on_release: app.root.current = root.back_button()


                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 1  
                        Line:
                            width: 1.2  
                            rounded_rectangle: (self.x, self.y, self.width, self.height, dp(23)) 

                Widget:
                    size_hint_y: 0.1